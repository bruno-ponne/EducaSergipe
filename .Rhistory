setwd("~/Desktop/microdados_educacao_basica_2020/DADOS")
# Filtrando apenas escolas municipais de Sergipe:
ESCOLAS_SE <- filter(ESCOLAS, CO_UF == 28, TP_DEPENDENCIA == 3)
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
names(cod_mun_SE) <- c("ID_MUNICIPIO", "NO_MUNICIPIO")
ESCOLAS_SE <- left_join(ESCOLAS_SE, cod_mun_SE, by = "CO_MUNICIPIO")
library(dplyr)
# Escola:
ESCOLAS <- read.csv2("escolas.csv", sep = "|")
# Filtrando apenas escolas municipais de Sergipe:
ESCOLAS_SE <- filter(ESCOLAS, CO_UF == 28, TP_DEPENDENCIA == 3)
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
names(cod_mun_SE) <- c("ID_MUNICIPIO", "NO_MUNICIPIO")
ESCOLAS_SE <- left_join(ESCOLAS_SE, cod_mun_SE, by = "CO_MUNICIPIO")
setwd("~/Desktop/EducaSergipe")
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
names(cod_mun_SE) <- c("ID_MUNICIPIO", "NO_MUNICIPIO")
ESCOLAS_SE <- left_join(ESCOLAS_SE, cod_mun_SE, by = "CO_MUNICIPIO")
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
library(readr)
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
names(cod_mun_SE) <- c("ID_MUNICIPIO", "NO_MUNICIPIO")
ESCOLAS_SE <- left_join(ESCOLAS_SE, cod_mun_SE, by = "CO_MUNICIPIO")
# Filtrando apenas escolas municipais de Sergipe:
ESCOLAS_SE <- filter(ESCOLAS, CO_UF == 28, TP_DEPENDENCIA == 3)
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
names(cod_mun_SE) <- c("ID_MUNICIPIO", "NO_MUNICIPIO")
ESCOLAS_SE <- left_join(ESCOLAS_SE, cod_mun_SE, by = "ID_MUNICIPIO")
View(cod_mun_SE)
View(ESCOLAS_SE)
View(ESCOLAS)
View(ESCOLAS_SE)
# Script 01 - Carregando os dados
# Os dados aqui carregados são provenientes de duas fontes:
# 1) SAEB 2019, disponível no site do Ministério da Educação,
# Arquivo 'TS_ALUNO_5EF.csv' referente aos alunos do 5º ano do Ensino Fundamental
# Fonte: https://www.gov.br/inep/pt-br/acesso-a-informacao/dados-abertos/microdados/saeb
# 2) Censo escolar 2020
# Arquivo 'docentes_nordeste.csv' e 'escolas.csv'
# Fonte: https://www.gov.br/inep/pt-br/areas-de-atuacao/pesquisas-estatisticas-e-indicadores/censo-escolar/resultados
#Bibliotecas necessárias:
library(dplyr)
library(readr)
# Nomes dos municípios sergipanos
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
names(cod_mun_SE) <- c("ID_MUNICIPIO", "NO_MUNICIPIO")
cod_mun_SE$ID_MUNICIPIO <- as.numeric(cod_mun_SE$ID_MUNICIPIO)
# Script 01 - Carregando os dados
# Os dados aqui carregados são provenientes de duas fontes:
# 1) SAEB 2019, disponível no site do Ministério da Educação,
# Arquivo 'TS_ALUNO_5EF.csv' referente aos alunos do 5º ano do Ensino Fundamental
# Fonte: https://www.gov.br/inep/pt-br/acesso-a-informacao/dados-abertos/microdados/saeb
# 2) Censo escolar 2020
# Arquivo 'docentes_nordeste.csv' e 'escolas.csv'
# Fonte: https://www.gov.br/inep/pt-br/areas-de-atuacao/pesquisas-estatisticas-e-indicadores/censo-escolar/resultados
#Bibliotecas necessárias:
library(dplyr)
library(readr)
# Nomes dos municípios sergipanos
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
names(cod_mun_SE) <- c("ID_MUNICIPIO", "NO_MUNICIPIO")
cod_mun_SE$ID_MUNICIPIO <- as.numeric(cod_mun_SE$ID_MUNICIPIO)
View(cod_mun_SE)
setwd("~/Desktop/microdados_saeb_2019/DADOS")
ALUNO_5EF <- data.table::fread(input='TS_ALUNO_5EF.csv',integer64='character')
SERGIPE_COMP <- filter(ALUNO_5EF, ID_UF==28, ID_DEPENDENCIA_ADM==3)
SERGIPE_COMP$ANONIMIZACAO <- substr(SERGIPE_COMP$ID_MUNICIPIO, 1,1)
SERGIPE_COMP %>% group_by(ANONIMIZACAO) %>% summarise(n())
SERGIPE <- filter(SERGIPE_COMP, ANONIMIZACAO==2)
SERGIPE_ALUNO <- select(SERGIPE,
TX_RESP_Q006E,
TX_RESP_Q017D,
TX_RESP_Q010B,
PROFICIENCIA_MT_SAEB,
PROFICIENCIA_LP_SAEB,
ID_MUNICIPIO,
ID_DEPENDENCIA_ADM,
ID_UF)
setwd("~/Desktop/EducaSergipe")
#Bibliotecas necessárias:
library(dplyr)
library(readr)
# Nomes dos municípios sergipanos
cod_mun_SE <- read_delim("dados/cod_mun_SE.csv", ";", escape_double = FALSE, trim_ws = TRUE)
names(cod_mun_SE) <- c("ID_MUNICIPIO", "NO_MUNICIPIO")
cod_mun_SE$ID_MUNICIPIO <- as.numeric(cod_mun_SE$ID_MUNICIPIO)
setwd("~/Desktop/microdados_saeb_2019/DADOS")
# SAEB
ALUNO_5EF <- data.table::fread(input='TS_ALUNO_5EF.csv',integer64='character')
# Somente escolas municipais de Sergipe:
SERGIPE_COMP <- filter(ALUNO_5EF, ID_UF==28, ID_DEPENDENCIA_ADM==3)
SERGIPE_COMP$ANONIMIZACAO <- substr(SERGIPE_COMP$ID_MUNICIPIO, 1,1)
# Contabilizando perda de dados - 2449 de 22704 obs (10,8%)
SERGIPE_COMP %>% group_by(ANONIMIZACAO) %>% summarise(n())
SERGIPE <- filter(SERGIPE_COMP, ANONIMIZACAO==2)
# Selecionando variáveis de interesse:
# TX_RESP_Q006E - INDICADOR 1: FREQUÊNCIA DOS PAIS A REUNIÕES
# TX_RESP_Q010B - INDICADOR 2: REDE WI-FI
# TX_RESP_Q017D - INDICADOR 3: TEMPO DESTINADO AO ESTUDO
SERGIPE_ALUNO <- select(SERGIPE,
TX_RESP_Q006E,
TX_RESP_Q017D,
TX_RESP_Q010B,
PROFICIENCIA_MT_SAEB,
PROFICIENCIA_LP_SAEB,
ID_MUNICIPIO,
ID_DEPENDENCIA_ADM,
ID_UF)
SERGIPE_ALUNO <- left_join(SERGIPE_ALUNO, cod_mun_SE, by = "ID_MUNICIPIO")
View(SERGIPE_ALUNO)
setwd("~/Desktop/EducaSergipe")
save(SERGIPE_ALUNO, file = "dados/SERGIPE_ALUNO.Rdata")
load("~/Desktop/EducaSergipe/dados/SERGIPE_ALUNO.Rdata")
View(SERGIPE_ALUNO)
setwd("~/Desktop/microdados_educacao_basica_2020/DADOS")
ESCOLAS <- read.csv2("escolas.csv", sep = "|")
ESCOLAS_SE <- filter(ESCOLAS, CO_UF == 28, TP_DEPENDENCIA == 3)
View(ESCOLAS_SE)
names(cod_mun_SE) <- c("CO_MUNICIPIO", "NO_MUNICIPIO")
ESCOLAS_SE <- left_join(ESCOLAS_SE, cod_mun_SE, by = "CO_MUNICIPIO")
View(ESCOLAS_SE)
save(ESCOLAS_SE, file = "dados/ESCOLAS_SE.Rdata")
setwd("~/Desktop/EducaSergipe")
save(ESCOLAS_SE, file = "dados/ESCOLAS_SE.Rdata")
setwd("~/Desktop/microdados_educacao_basica_2020/DADOS")
PROFESSORES <- read.csv2("docentes_nordeste.csv", sep = "|")
PROF_SE <- PROFESSORES %>%
filter(CO_UF == 28, TP_DEPENDENCIA == 3)
PROF_SE <- left_join(PROF_SE, cod_mun_SE, by = "CO_MUNICIPIO")
save(PROF_SE, file = "dados/PROF_SE.Rdata")
View(PROF_SE)
setwd("~/Desktop/EducaSergipe")
save(PROF_SE, file = "dados/PROF_SE.Rdata")
# Script 02 - Eixo Alunos
# Bibliotecas:
library(descr)
library(dplyr)
library(readr)
load("dados/SERGIPE_ALUNO.Rdata")
freq(SERGIPE_ALUNO$TX_RESP_Q006E)
freq(SERGIPE_ALUNO$TX_RESP_Q006E)
SERGIPE_ALUNO$TX_RESP_Q006E[SERGIPE_ALUNO$TX_RESP_Q006E=="*"] <- "sem resposta"
SERGIPE_ALUNO$TX_RESP_Q006E[SERGIPE_ALUNO$TX_RESP_Q006E=="."] <- "sem resposta"
# 25,63% de observações sem resposta para esse indicador
freq(SERGIPE_ALUNO$TX_RESP_Q006E)
REUNIOES <- SERGIPE_ALUNO %>%
group_by(NO_MUNICIPIO) %>%
summarise(Nunca_QuaseNunca = mean(TX_RESP_Q006E=="A")*100,
De_vez_em_quando = mean(TX_RESP_Q006E=="B")*100,
Sempre_QuaseSempre = mean(TX_RESP_Q006E=="C")*100,
Sem_Resposta = mean(TX_RESP_Q006E=="sem resposta")*100)
View(SERGIPE_ALUNO)
View(REUNIOES)
freq(SERGIPE_ALUNO$TX_RESP_Q010B)
SERGIPE_ALUNO$TX_RESP_Q010B[SERGIPE_ALUNO$TX_RESP_Q010B=="*"] <- "sem resposta"
SERGIPE_ALUNO$TX_RESP_Q010B[SERGIPE_ALUNO$TX_RESP_Q010B=="."] <- "sem resposta"
# 21,25% de observações sem resposta para esse indicador
freq(SERGIPE_ALUNO$TX_RESP_Q010B)
RESUMO_WIFI <- SERGIPE_ALUNO %>%
group_by(NO_MUNICIPIO) %>%
summarise(Não = mean(TX_RESP_Q010B=="A")*100,
Sim = mean(TX_RESP_Q010B=="B")*100,
Sem_Resposta = mean(TX_RESP_Q010B== "sem resposta")*100)
View(RESUMO_WIFI)
freq(SERGIPE_ALUNO$TX_RESP_Q017D)
SERGIPE_ALUNO$TX_RESP_Q017D[SERGIPE_ALUNO$TX_RESP_Q017D=="*"] <- "sem resposta"
SERGIPE_ALUNO$TX_RESP_Q017D[SERGIPE_ALUNO$TX_RESP_Q017D=="."] <- "sem resposta"
# 24,13% de observações sem resposta para esse indicador
freq(SERGIPE_ALUNO$TX_RESP_Q017D)
RESUMO_ESTUDO <- SERGIPE_ALUNO %>%
group_by(NO_MUNICIPIO) %>%
summarise(NãoEstuda = mean(TX_RESP_Q017D=="A")*100,
Menos_de_1h = mean(TX_RESP_Q017D=="B")*100,
Entre_1he2h = mean(TX_RESP_Q017D=="C")*100,
Mais_de_2h = mean(TX_RESP_Q017D=="D")*100,
Sem_Resposta = mean(TX_RESP_Q017D=="sem resposta")*100)
# Bibliotecas:
library(descr)
library(dplyr)
library(readr)
load("dados/PROF_SE.RData")
View(PROF_SE)
N_PROF_MUN <- PROF_SE %>%
group_by(NO_MUNICIPIO) %>%
summarise(n())
View(N_PROF_MUN)
PROF_SE$IN_COMPLEMENTACAO_PEDAGOGICA[PROF_SE$IN_COMPLEMENTACAO_PEDAGOGICA==0] <- "não"
PROF_SE$IN_COMPLEMENTACAO_PEDAGOGICA[PROF_SE$IN_COMPLEMENTACAO_PEDAGOGICA==1] <- "sim"
RESUMO_COMP <- PROF_SE %>%
group_by(nome) %>%
summarise(Sim = mean(IN_COMPLEMENTACAO_PEDAGOGICA=="sim")*100,
Não = mean(IN_COMPLEMENTACAO_PEDAGOGICA=="não")*100) %>%
arrange(desc(Sim))
RESUMO_COMP <- PROF_SE %>%
group_by(NO_MUNICIPIO) %>%
summarise(Sim = mean(IN_COMPLEMENTACAO_PEDAGOGICA=="sim")*100,
Não = mean(IN_COMPLEMENTACAO_PEDAGOGICA=="não")*100) %>%
arrange(desc(Sim))
View(RESUMO_COMP)
load("dados/PROF_SE.RData")
freq(PROF_SE$IN_COMPLEMENTACAO_PEDAGOGICA)
freq(PROF_SE$IN_ESPECIALIZACAO)
PROF_SE$IN_ESPECIALIZACAO[PROF_SE$IN_ESPECIALIZACAO==0] <- "não"
PROF_SE$IN_ESPECIALIZACAO[PROF_SE$IN_ESPECIALIZACAO==1] <- "sim"
freq(PROF_SE$IN_ESPECIALIZACAO)
RESUMO_ESP <- PROF_SE %>%
select(NO_MUNICIPIO, IN_ESPECIALIZACAO) %>%
na.omit()%>%
group_by(NO_MUNICIPIO)%>%
summarise(Sim = mean(IN_ESPECIALIZACAO=="sim")*100,
Não = mean(IN_ESPECIALIZACAO=="não")*100) %>%
arrange(desc(Sim))
View(RESUMO_ESP)
load("ESCOLAS_SE")
load("ESCOLAS_SE.RData")
load("ESCOLAS_SE.Rdata")
load("dados/ESCOLAS_SE.Rdata")
freq(ESCOLAS_SE$IN_QUADRA_ESPORTES)
ESCOLAS_SE$IN_QUADRA_ESPORTES[ESCOLAS_SE$IN_QUADRA_ESPORTES==0] <- "não"
ESCOLAS_SE$IN_QUADRA_ESPORTES[ESCOLAS_SE$IN_QUADRA_ESPORTES==1] <- "sim"
RESUMO_QUADRA <- ESCOLAS_SE %>%
select(NO_MUNICIPIO, IN_QUADRA_ESPORTES) %>%
na.omit()%>%
group_by(NO_MUNICIPIO)%>%
summarise(Sim = mean(IN_QUADRA_ESPORTES=="sim")*100,
Não = mean(IN_QUADRA_ESPORTES=="não")*100) %>%
arrange(desc(Sim))
View(RESUMO_QUADRA)
freq(ESCOLAS_SE$IN_ACESSIBILIDADE_RAMPAS)
ESCOLAS_SE$IN_ACESSIBILIDADE_RAMPAS[ESCOLAS_SE$IN_ACESSIBILIDADE_RAMPAS==0] <- "não"
ESCOLAS_SE$IN_ACESSIBILIDADE_RAMPAS[ESCOLAS_SE$IN_ACESSIBILIDADE_RAMPAS==1] <- "sim"
RESUMO_RAMPAS <- ESCOLAS_SE %>%
select(NO_MUNICIPIO, IN_ACESSIBILIDADE_RAMPAS) %>%
na.omit()%>%
group_by(NO_MUNICIPIO)%>%
summarise(Sim = mean(IN_ACESSIBILIDADE_RAMPAS=="sim")*100,
Não = mean(IN_ACESSIBILIDADE_RAMPAS=="não")*100) %>%
arrange(desc(Sim))
View(RESUMO_RAMPAS)
freq(ESCOLAS_SE$IN_BIBLIOTECA)
freq(ESCOLAS_SE$IN_BIBLIOTECA) # 17,6% NA
ESCOLAS_SE$IN_BIBLIOTECA[ESCOLAS_SE$IN_BIBLIOTECA==0] <- "não"
ESCOLAS_SE$IN_BIBLIOTECA[ESCOLAS_SE$IN_BIBLIOTECA==1] <- "sim"
RESUMO_BIBLIOTECAS <- ESCOLAS_SE %>%
select(NO_MUNICIPIO, IN_BIBLIOTECA) %>%
na.omit()%>%
group_by(NO_MUNICIPIO)%>%
summarise(Sim = mean(IN_BIBLIOTECA=="sim")*100,
Não = mean(IN_BIBLIOTECA=="não")*100) %>%
arrange(desc(Sim))
View(RESUMO_BIBLIOTECAS)
freq(ESCOLAS_SE$IN_LABORATORIO_INFORMATICA)
ESCOLAS_SE$IN_LABORATORIO_INFORMATICA[ESCOLAS_SE$IN_LABORATORIO_INFORMATICA==0] <- "não"
ESCOLAS_SE$IN_LABORATORIO_INFORMATICA[ESCOLAS_SE$IN_LABORATORIO_INFORMATICA==1] <- "sim"
RESUMO_LAB_INFO <- ESCOLAS_SE%>%
select(NO_MUNICIPIO, IN_LABORATORIO_INFORMATICA)%>%
na.omit()%>%
group_by(NO_MUNICIPIO)%>%
summarise(Sim = mean(IN_LABORATORIO_INFORMATICA=="sim")*100,
Não = mean(IN_LABORATORIO_INFORMATICA=="não")*100) %>%
arrange(desc(Sim))
View(ESCOLAS_SE)
View(RESUMO_LAB_INFO)
freq(ESCOLAS_SE$IN_INTERNET)
RESUMO_INTERNET <- ESCOLAS_SE%>%
select(NO_MUNICIPIO, IN_INTERNET)%>%
na.omit()%>%
group_by(NO_MUNICIPIO)%>%
summarise(Sim = mean(IN_INTERNET=="sim")*100,
Não = mean(IN_INTERNET=="não")*100) %>%
arrange(desc(Sim))
View(RESUMO_INTERNET)
freq(ESCOLAS_SE$IN_INTERNET) # 17,6% NA
ESCOLAS_SE$IN_INTERNET[ESCOLAS_SE$IN_INTERNET==0] <- "não"
ESCOLAS_SE$IN_INTERNET[ESCOLAS_SE$IN_INTERNET==1] <- "sim"
RESUMO_INTERNET <- ESCOLAS_SE%>%
select(NO_MUNICIPIO, IN_INTERNET)%>%
na.omit()%>%
group_by(NO_MUNICIPIO)%>%
summarise(Sim = mean(IN_INTERNET=="sim")*100,
Não = mean(IN_INTERNET=="não")*100) %>%
arrange(desc(Sim))
View(RESUMO_INTERNET)
load("dados/SERGIPE_ALUNO.Rdata")
DESEMP_PORT_M <- SERGIPE_ALUNO %>%
group_by(ID_MUNICIPIO) %>%
summarise(media = mean(PROFICIENCIA_LP_SAEB))
View(DESEMP_PORT_M)
DESEMP_PORT_M <- SERGIPE_ALUNO %>%
group_by(ID_MUNICIPIO) %>%
summarise(media = mean(PROFICIENCIA_LP_SAEB, na.rm = TRUE))
View(DESEMP_PORT_M)
map_se <- read_sf("dados/mapa/28MUE250GC_SIR.shp")
library(sf)
map_se <- read_sf("dados/mapa/28MUE250GC_SIR.shp")
View(DESEMP_PORT_M)
View(map_se)
map_se <- rename(map_se, ID_MUNICIPIO = CD_GEOCODM )
map_se$ID_MUNICIPIO = as.numeric(map_se$ID_MUNICIPIO)
MAP_DADOS <- left_join(map_se, DESEMPENHO_P_MUN, by = "ID_MUNICIPIO")
MAP_DADOS <- left_join(map_se, DESEMPENHO_PORT_M, by = "ID_MUNICIPIO")
MAP_DADOS <- left_join(map_se, DESEMP_PORT_M, by = "ID_MUNICIPIO")
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
library(ggplot2)
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Average Age", low = '#fdbb84', high = '#e34a33')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Average Age", low = '#d73027', high = '#4575b4')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Average Age", low = '#b2182b', high = '#4575b4')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Average Age", low = '#fee090', high = '#4575b4')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Average Age", low = '#f1eef6', high = '#034e7b')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Nota em Portugês", low = '#f1eef6', high = '#034e7b')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
load("dados/ESCOLAS_SE.Rdata")
View(ESCOLAS_SE)
freq(ESCOLAS_SE$IN_BIBLIOTECA) # 17,6% NA
ESCOLAS_SE$IN_BIBLIOTECA[ESCOLAS_SE$IN_BIBLIOTECA==0] <- "não"
ESCOLAS_SE$IN_BIBLIOTECA[ESCOLAS_SE$IN_BIBLIOTECA==1] <- "sim"
RESUMO_BIBLIOTECAS <- ESCOLAS_SE %>%
select(CO_MUNICIPIO, IN_BIBLIOTECA) %>%
na.omit()%>%
group_by(CO_MUNICIPIO)%>%
summarise(Sim = mean(IN_BIBLIOTECA=="sim")*100,
Não = mean(IN_BIBLIOTECA=="não")*100) %>%
arrange(desc(Sim))
View(RESUMO_BIBLIOTECAS)
View(RESUMO_BIBLIOTECAS)
MAP_BIB <- left_join(map_se, RESUMO_BIBLIOTECAS, by = "CO_MUNICIPIO")
map_se <- rename(map_se, CO_MUNICIPIO = ID_MUNICIPIO)
MAP_BIB <- left_join(map_se, RESUMO_BIBLIOTECAS, by = "CO_MUNICIPIO")
View(MAP_BIB)
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = Sim), size=0.05, color="gray")+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_BIB, aes(geometry=geometry, fill = Sim), size=0.05, color="gray")+
scale_fill_gradient(name = "Nota em Portugês", low = '#f1eef6', high = '#034e7b')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
View(RESUMO_BIBLIOTECAS)
sem_bib <- MAP_BIB %>% filter(Sim==0)
View(sem_bib)
ggplot()+
geom_sf(data = sem_bib, aes(geometry=geometry), size=0.05, color="gray")+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = sem_bib, aes(geometry=geometry), fill= "red", size=0.05, color="gray")+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = sem_bib, aes(geometry=geometry), size=0.05, color="red")+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = sem_bib, aes(geometry=geometry), color="red")+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = sem_bib, aes(geometry=geometry), fill = "transparent", color="red")+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Nota em Portugês", low = '#f1eef6', high = '#034e7b')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
geom_sf(data = sem_bib, aes(geometry=geometry), fill = "transparent", color="red")+
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Nota em Portugês", low = '#f1eef6', high = '#034e7b')+
labs(title = "Desempenho no SAEB",
subtitle = "Português") +
geom_sf(data = sem_bib, aes(geometry=geometry), fill = "transparent", color="#99000d")+
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
ggplot()+
geom_sf(data = MAP_DADOS, aes(geometry=geometry, fill = media), size=0.05, color="gray")+
scale_fill_gradient(name = "Nota em Portugês", low = '#f1eef6', high = '#034e7b')+
labs(title = "Desempenho no SAEB",
subtitle = "Em vermelho, municípios sem escola com biblioteca") +
geom_sf(data = sem_bib, aes(geometry=geometry), fill = "transparent", color="#99000d")+
theme(panel.background = element_rect(fill = "white", colour = "gray"))+
theme(axis.text = element_blank(),
axis.ticks = element_blank())
